#include "framework/configfile.h"
#include "framework/data.h"
#include "framework/filesystem.h"
#include "framework/framework.h"
#include "framework/image.h"
#include "framework/logger.h"

using namespace OpenApoc;
class PCKFile
{
  public:
	UString palette;
	UString prefix;
	UString type = "PCK";
	PCKFile(UString pal, UString pre) : palette(pal), prefix(pre) {}
	PCKFile(UString pal, UString pre, UString t) : palette(pal), prefix(pre), type(t) {}
};

std::list<PCKFile> pckFiles = {
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/01senate/mapunits/animate"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/01senate/mapunits/feature"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/01senate/mapunits/floor"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/01senate/mapunits/ground"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/01senate/mapunits/left"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/01senate/mapunits/right"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/01senate/mapunits/sfeature", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/01senate/mapunits/sground", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/01senate/mapunits/sleft", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/01senate/mapunits/sright", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/01senate/mapunits/stratmap", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/02police/mapunits/animate"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/02police/mapunits/feature"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/02police/mapunits/ground"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/02police/mapunits/left"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/02police/mapunits/right"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/02police/mapunits/sfeature", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/02police/mapunits/sground", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/02police/mapunits/sleft", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/02police/mapunits/sright", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/03hospit/mapunits/animate"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/03hospit/mapunits/feature"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/03hospit/mapunits/ground"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/03hospit/mapunits/left"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/03hospit/mapunits/right"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/03hospit/mapunits/sfeature", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/03hospit/mapunits/sground", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/03hospit/mapunits/sleft", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/03hospit/mapunits/sright", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/04school/mapunits/animate"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/04school/mapunits/feature"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/04school/mapunits/ground"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/04school/mapunits/left"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/04school/mapunits/right"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/04school/mapunits/sfeature", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/04school/mapunits/sground", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/04school/mapunits/sleft", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/04school/mapunits/sright", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/05rescue/mapunits/animate"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/05rescue/mapunits/feature"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/05rescue/mapunits/ground"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/05rescue/mapunits/left"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/05rescue/mapunits/right"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/05rescue/mapunits/sfeature", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/05rescue/mapunits/sground", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/05rescue/mapunits/sleft", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/05rescue/mapunits/sright", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/06office/mapunits/animate"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/06office/mapunits/feature"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/06office/mapunits/floor"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/06office/mapunits/ground"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/06office/mapunits/left"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/06office/mapunits/right"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/06office/mapunits/sfeature", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/06office/mapunits/sground", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/06office/mapunits/sleft", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/06office/mapunits/sright", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/06office/mapunits/stratmap", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/07corphq/mapunits/animate"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/07corphq/mapunits/feature"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/07corphq/mapunits/floor"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/07corphq/mapunits/ground"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/07corphq/mapunits/left"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/07corphq/mapunits/right"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/07corphq/mapunits/sfeature", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/07corphq/mapunits/sground", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/07corphq/mapunits/sleft", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/07corphq/mapunits/sright", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/07corphq/mapunits/stratmap", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/08port/mapunits/animate"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/08port/mapunits/feature"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/08port/mapunits/ground"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/08port/mapunits/left"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/08port/mapunits/right"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/08port/mapunits/sfeature", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/08port/mapunits/sground", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/08port/mapunits/sleft", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/08port/mapunits/sright", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/10astro/mapunits/animate"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/10astro/mapunits/feature"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/10astro/mapunits/ground"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/10astro/mapunits/left"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/10astro/mapunits/right"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/10astro/mapunits/sfeature", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/10astro/mapunits/sground", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/10astro/mapunits/sleft", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/10astro/mapunits/sright", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/11park/mapunits/animate"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/11park/mapunits/feature"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/11park/mapunits/ground"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/11park/mapunits/left"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/11park/mapunits/right"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/11park/mapunits/sfeature", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/11park/mapunits/sground", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/11park/mapunits/sleft", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/11park/mapunits/sright", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/12shops/mapunits/animate"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/12shops/mapunits/feature"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/12shops/mapunits/ground"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/12shops/mapunits/left"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/12shops/mapunits/right"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/12shops/mapunits/sfeature", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/12shops/mapunits/sground", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/12shops/mapunits/sleft", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/12shops/mapunits/sright", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/14acnorm/mapunits/animate"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/14acnorm/mapunits/feature"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/14acnorm/mapunits/ground"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/14acnorm/mapunits/left"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/14acnorm/mapunits/right"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/14acnorm/mapunits/sfeature", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/14acnorm/mapunits/sground", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/14acnorm/mapunits/sleft", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/14acnorm/mapunits/sright", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/15acposh/mapunits/animate"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/15acposh/mapunits/feature"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/15acposh/mapunits/ground"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/15acposh/mapunits/left"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/15acposh/mapunits/right"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/15acposh/mapunits/sfeature", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/15acposh/mapunits/sground", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/15acposh/mapunits/sleft", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/15acposh/mapunits/sright", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/18hydro/mapunits/animate"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/18hydro/mapunits/feature"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/18hydro/mapunits/ground"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/18hydro/mapunits/left"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/18hydro/mapunits/right"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/18hydro/mapunits/sfeature", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/18hydro/mapunits/sground", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/18hydro/mapunits/sleft", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/18hydro/mapunits/sright", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/19sewage/mapunits/animate"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/19sewage/mapunits/feature"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/19sewage/mapunits/ground"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/19sewage/mapunits/left"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/19sewage/mapunits/right"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/19sewage/mapunits/sfeature", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/19sewage/mapunits/sground", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/19sewage/mapunits/sleft", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/19sewage/mapunits/sright", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/20water/mapunits/animate"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/20water/mapunits/feature"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/20water/mapunits/ground"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/20water/mapunits/left"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/20water/mapunits/right"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/20water/mapunits/sfeature", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/20water/mapunits/sground", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/20water/mapunits/sleft", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/20water/mapunits/sright", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/21appl/mapunits/animate"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/21appl/mapunits/feature"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/21appl/mapunits/ground"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/21appl/mapunits/left"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/21appl/mapunits/right"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/21appl/mapunits/sfeature", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/21appl/mapunits/sground", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/21appl/mapunits/sleft", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/21appl/mapunits/sright", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/22arms/mapunits/animate"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/22arms/mapunits/feature"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/22arms/mapunits/ground"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/22arms/mapunits/left"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/22arms/mapunits/right"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/22arms/mapunits/sfeature", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/22arms/mapunits/sground", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/22arms/mapunits/sleft", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/22arms/mapunits/sright", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/22arms/mapunits/stratmap", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/23robots/mapunits/animate"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/23robots/mapunits/feature"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/23robots/mapunits/ground"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/23robots/mapunits/left"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/23robots/mapunits/right"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/23robots/mapunits/sfeature", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/23robots/mapunits/sground", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/23robots/mapunits/sleft", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/23robots/mapunits/sright", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/25flyer/mapunits/animate"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/25flyer/mapunits/feature"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/25flyer/mapunits/ground"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/25flyer/mapunits/left"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/25flyer/mapunits/right"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/25flyer/mapunits/sfeature", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/25flyer/mapunits/sground", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/25flyer/mapunits/sleft", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/25flyer/mapunits/sright", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/26lflyer/mapunits/animate"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/26lflyer/mapunits/feature"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/26lflyer/mapunits/ground"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/26lflyer/mapunits/left"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/26lflyer/mapunits/right"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/26lflyer/mapunits/sfeature", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/26lflyer/mapunits/sground", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/26lflyer/mapunits/sleft", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/26lflyer/mapunits/sright", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/27constr/mapunits/animate"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/27constr/mapunits/feature"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/27constr/mapunits/ground"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/27constr/mapunits/left"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/27constr/mapunits/right"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/27constr/mapunits/sfeature", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/27constr/mapunits/sground", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/27constr/mapunits/sleft", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/27constr/mapunits/sright", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/28slums/mapunits/animate"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/28slums/mapunits/feature"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/28slums/mapunits/ground"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/28slums/mapunits/left"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/28slums/mapunits/right"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/28slums/mapunits/sfeature", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/28slums/mapunits/sground", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/28slums/mapunits/sleft", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/28slums/mapunits/sright", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/30ware/mapunits/animate"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/30ware/mapunits/feature"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/30ware/mapunits/floor"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/30ware/mapunits/ground"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/30ware/mapunits/left"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/30ware/mapunits/right"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/30ware/mapunits/sfeature", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/30ware/mapunits/sground", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/30ware/mapunits/sleft", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/30ware/mapunits/sright", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/30ware/mapunits/stratmap", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/32power/mapunits/animate"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/32power/mapunits/feature"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/32power/mapunits/ground"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/32power/mapunits/left"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/32power/mapunits/right"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/32power/mapunits/sfeature", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/32power/mapunits/sground", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/32power/mapunits/sleft", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/32power/mapunits/sright", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/33recycl/mapunits/animate"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/33recycl/mapunits/feature"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/33recycl/mapunits/ground"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/33recycl/mapunits/left"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/33recycl/mapunits/right"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/33recycl/mapunits/sfeature", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/33recycl/mapunits/sground", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/33recycl/mapunits/sleft", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/33recycl/mapunits/sright", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/35tubes/mapunits/animate"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/35tubes/mapunits/feature"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/35tubes/mapunits/ground"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/35tubes/mapunits/left"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/35tubes/mapunits/right"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/35tubes/mapunits/sfeature", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/35tubes/mapunits/sground", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/35tubes/mapunits/sleft", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/35tubes/mapunits/sright", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/36church/mapunits/animate"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/36church/mapunits/feature"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/36church/mapunits/floor"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/36church/mapunits/ground"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/36church/mapunits/left"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/36church/mapunits/right"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/36church/mapunits/sfeature", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/36church/mapunits/sground", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/36church/mapunits/sleft", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/36church/mapunits/sright", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/36church/mapunits/stratmap", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/37base/mapunits/animate"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/37base/mapunits/feature"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/37base/mapunits/floor"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/37base/mapunits/ground"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/37base/mapunits/left"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/37base/mapunits/right"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/37base/mapunits/sfeature", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/37base/mapunits/sground", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/37base/mapunits/sleft", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/37base/mapunits/sright", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/37base/mapunits/stratmap", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/39incub/mapunits/animate"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/39incub/mapunits/feature"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/39incub/mapunits/ground"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/39incub/mapunits/left"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/39incub/mapunits/right"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/39incub/mapunits/sfeature", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/39incub/mapunits/sground", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/39incub/mapunits/sleft", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/39incub/mapunits/sright", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/40spawn/mapunits/animate"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/40spawn/mapunits/feature"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/40spawn/mapunits/ground"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/40spawn/mapunits/left"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/40spawn/mapunits/right"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/40spawn/mapunits/sfeature", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/40spawn/mapunits/sground", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/40spawn/mapunits/sleft", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/40spawn/mapunits/sright", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/41food/mapunits/animate"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/41food/mapunits/feature"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/41food/mapunits/ground"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/41food/mapunits/left"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/41food/mapunits/right"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/41food/mapunits/sfeature", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/41food/mapunits/sground", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/41food/mapunits/sleft", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/41food/mapunits/sright", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/42megapd/mapunits/animate"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/42megapd/mapunits/feature"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/42megapd/mapunits/ground"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/42megapd/mapunits/left"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/42megapd/mapunits/right"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/42megapd/mapunits/sfeature", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/42megapd/mapunits/sground", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/42megapd/mapunits/sleft", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/42megapd/mapunits/sright", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/43sleep/mapunits/animate"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/43sleep/mapunits/feature"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/43sleep/mapunits/ground"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/43sleep/mapunits/left"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/43sleep/mapunits/right"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/43sleep/mapunits/sfeature", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/43sleep/mapunits/sground", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/43sleep/mapunits/sleft", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/43sleep/mapunits/sright", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/44organ/mapunits/animate"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/44organ/mapunits/feature"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/44organ/mapunits/ground"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/44organ/mapunits/left"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/44organ/mapunits/right"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/44organ/mapunits/sfeature", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/44organ/mapunits/sground", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/44organ/mapunits/sleft", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/44organ/mapunits/sright", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/45farm/mapunits/animate"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/45farm/mapunits/feature"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/45farm/mapunits/ground"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/45farm/mapunits/left"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/45farm/mapunits/right"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/45farm/mapunits/sfeature", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/45farm/mapunits/sground", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/45farm/mapunits/sleft", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/45farm/mapunits/sright", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/46contrl/mapunits/animate"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/46contrl/mapunits/feature"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/46contrl/mapunits/ground"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/46contrl/mapunits/left"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/46contrl/mapunits/right"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/46contrl/mapunits/sfeature", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/46contrl/mapunits/sground", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/46contrl/mapunits/sleft", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/46contrl/mapunits/sright", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/47maint/mapunits/animate"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/47maint/mapunits/feature"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/47maint/mapunits/ground"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/47maint/mapunits/left"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/47maint/mapunits/right"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/47maint/mapunits/sfeature", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/47maint/mapunits/sground", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/47maint/mapunits/sleft", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/47maint/mapunits/sright", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/48gate/mapunits/animate"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/48gate/mapunits/feature"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/48gate/mapunits/ground"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/48gate/mapunits/left"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/48gate/mapunits/right"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/48gate/mapunits/sfeature", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/48gate/mapunits/sground", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/48gate/mapunits/sleft", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/48gate/mapunits/sright", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/50senso/mapunits/animate"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/50senso/mapunits/feature"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/50senso/mapunits/ground"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/50senso/mapunits/left"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/50senso/mapunits/right"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/50senso/mapunits/sfeature", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/50senso/mapunits/sground", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/50senso/mapunits/sleft", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/50senso/mapunits/sright", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/51ufo1/mapunits/animate"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/51ufo1/mapunits/feature"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/51ufo1/mapunits/ground"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/51ufo1/mapunits/left"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/51ufo1/mapunits/right"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/51ufo1/mapunits/sfeature", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/51ufo1/mapunits/sground", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/51ufo1/mapunits/sleft", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/51ufo1/mapunits/sright", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/52ufo2/mapunits/animate"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/52ufo2/mapunits/feature"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/52ufo2/mapunits/ground"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/52ufo2/mapunits/left"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/52ufo2/mapunits/right"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/52ufo2/mapunits/sfeature", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/52ufo2/mapunits/sground", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/52ufo2/mapunits/sleft", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/52ufo2/mapunits/sright", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/53ufo3/mapunits/animate"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/53ufo3/mapunits/feature"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/53ufo3/mapunits/ground"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/53ufo3/mapunits/left"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/53ufo3/mapunits/right"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/53ufo3/mapunits/sfeature", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/53ufo3/mapunits/sground", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/53ufo3/mapunits/sleft", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/53ufo3/mapunits/sright", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/54ufo4/mapunits/animate"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/54ufo4/mapunits/feature"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/54ufo4/mapunits/ground"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/54ufo4/mapunits/left"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/54ufo4/mapunits/right"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/54ufo4/mapunits/sfeature", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/54ufo4/mapunits/sground", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/54ufo4/mapunits/sleft", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/54ufo4/mapunits/sright", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/55ufo5/mapunits/animate"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/55ufo5/mapunits/feature"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/55ufo5/mapunits/ground"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/55ufo5/mapunits/left"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/55ufo5/mapunits/right"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/55ufo5/mapunits/sfeature", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/55ufo5/mapunits/sground", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/55ufo5/mapunits/sleft", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/55ufo5/mapunits/sright", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/56ufo6/mapunits/animate"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/56ufo6/mapunits/feature"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/56ufo6/mapunits/ground"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/56ufo6/mapunits/left"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/56ufo6/mapunits/right"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/56ufo6/mapunits/sfeature", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/56ufo6/mapunits/sground", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/56ufo6/mapunits/sleft", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/56ufo6/mapunits/sright", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/57ufo7/mapunits/animate"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/57ufo7/mapunits/feature"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/57ufo7/mapunits/ground"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/57ufo7/mapunits/left"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/57ufo7/mapunits/right"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/57ufo7/mapunits/sfeature", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/57ufo7/mapunits/sground", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/57ufo7/mapunits/sleft", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/57ufo7/mapunits/sright", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/58ufo8/mapunits/animate"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/58ufo8/mapunits/feature"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/58ufo8/mapunits/ground"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/58ufo8/mapunits/left"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/58ufo8/mapunits/right"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/58ufo8/mapunits/sfeature", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/58ufo8/mapunits/sground", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/58ufo8/mapunits/sleft", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/maps/58ufo8/mapunits/sright", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/alien/bsk-"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/alien/bsks", "PCKSHADOW"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/alien/chrysa"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/alien/chrysb"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/alien/gun"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/alien/hypr-"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/alien/hyprs", "PCKSHADOW"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/alien/mega-s", "PCKSHADOW"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/alien/megaa"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/alien/megab"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/alien/megad"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/alien/megae"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/alien/micro-"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/alien/multi-"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/alien/mwegga"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/alien/mweggb"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/alien/popper-"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/alien/poppers", "PCKSHADOW"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/alien/psi-"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/alien/psi-s", "PCKSHADOW"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/alien/queena"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/alien/queenb"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/alien/spit-s", "PCKSHADOW"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/alien/spitr"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/animate"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/civ/grey-"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/civ/nm1-"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/civ/nm2-"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/civ/nm3-"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/civ/nw1-"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/civ/nw2-"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/civ/nw3-"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/civ/rm1-"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/civ/rm2-"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/civ/rm3-"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/civ/robo1-"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/civ/robo2-"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/civ/robo3-"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/civ/robo4-"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/civ/robot-"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/civ/rw1-"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/civ/rw2-"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/civ/rw3-"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/civ/scntst"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/civ/sm1-"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/civ/sm2-"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/civ/sm3-"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/civ/sw1-"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/civ/sw2-"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/civ/sw3-"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/descurs"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/gameobj"},
    // FIXME: tacdata/icon_m fails to load
    //{"xcom3/tacdata/tactical.pal","xcom3/tacdata/icon_m"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/icons"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/oshadow", "PCKSHADOW"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/ptang"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/stratico", "PCKSTRAT"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/tacbut"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/antrpa"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/antrpb"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/antrpc"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/antrpd"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/antrpe"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/culta"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/cultb"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/cultc"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/cultd"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/culte"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/cultla"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/cultlb"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/cultlc"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/cultld"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/cultle"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/equip"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/gang2a"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/gang2b"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/gang2c"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/gang2d"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/gang2e"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/ganga"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/gangb"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/gangc"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/gangd"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/gange"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/gangla"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/ganglb"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/ganglc"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/gangld"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/gangle"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/polica"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/policb"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/policc"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/policd"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/police"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/seca"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/secb"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/secc"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/secd"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/sece"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/shadow", "PCKSHADOW"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/skela"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/skelb"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/skelc"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/skeld"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/skele"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/xcom1a"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/xcom1b"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/xcom1c"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/xcom1d"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/xcom1e"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/xcom2a"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/xcom2b"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/xcom2c"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/xcom2d"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/xcom2e"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/xcom3a"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/xcom3b"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/xcom3c"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/xcom3d"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/xcom3e"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/xcom4a"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/xcom4b"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/xcom4c"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/xcom4d"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/unit/xcom4e"},
    {"xcom3/tacdata/tactical.pal", "xcom3/tacdata/vs_icon"},
    {"xcom3/ufodata/pal_01.dat", "xcom3/ufodata/agntico"},
    {"xcom3/ufodata/pal_01.dat", "xcom3/ufodata/alien"},
    {"xcom3/ufodata/pal_01.dat", "xcom3/ufodata/alien_s", "PCKSTRAT"},
    {"xcom3/ufodata/agenteqp.pcx", "xcom3/ufodata/armour"},
    {"xcom3/ufodata/base.pcx", "xcom3/ufodata/base"},
    {"xcom3/ufodata/vannihil.pcx", "xcom3/ufodata/bigveh"},
    {"xcom3/ufodata/pal_01.dat", "xcom3/ufodata/city"},
    {"xcom3/ufodata/pal_01.dat", "xcom3/ufodata/cityovr"},
    {"xcom3/ufodata/pal_01.dat", "xcom3/ufodata/contico"},
    {"xcom3/ufodata/pal_01.dat", "xcom3/ufodata/descurs"},
    {"xcom3/ufodata/pal_01.dat", "xcom3/ufodata/icon_m"},
    {"xcom3/ufodata/pal_01.dat", "xcom3/ufodata/icon_s"},
    {"xcom3/ufodata/research.pcx", "xcom3/ufodata/icons"},
    {"xcom3/ufodata/research.pcx", "xcom3/ufodata/newbut"},
    {"xcom3/ufodata/pal_01.dat", "xcom3/ufodata/over-a"},
    {"xcom3/ufodata/pal_01.dat", "xcom3/ufodata/over-b"},
    {"xcom3/ufodata/pal_01.dat", "xcom3/ufodata/over-s", "PCKSHADOW"},
    {"xcom3/ufopaedi/00incuba.pcx", "xcom3/ufodata/ped-but"},
    {"xcom3/ufodata/agenteqp.pcx", "xcom3/ufodata/pequip"},
    {"xcom3/ufodata/pal_01.dat", "xcom3/ufodata/photo"},
    {"xcom3/ufodata/pal_01.dat", "xcom3/ufodata/ptang"},
    {"xcom3/ufodata/pal_01.dat", "xcom3/ufodata/saucer"},
    {"xcom3/ufodata/pal_01.dat", "xcom3/ufodata/shadow", "PCKSHADOW"},
    {"xcom3/ufodata/pal_01.dat", "xcom3/ufodata/smalveh"},
    {"xcom3/ufodata/pal_01.dat", "xcom3/ufodata/stratmap", "PCKSTRAT"},
    {"xcom3/ufodata/vannihil.pcx", "xcom3/ufodata/vehequip"},
    {"xcom3/ufodata/pal_01.dat", "xcom3/ufodata/vehicle"},
    {"xcom3/ufodata/pal_01.dat", "xcom3/ufodata/vs_icon"},
    {"xcom3/ufodata/pal_01.dat", "xcom3/ufodata/vs_obs"},
};

std::list<UString> pcxFiles = {
    "xcom3/maps/02police/mapunits/02d1",
    "xcom3/maps/02police/mapunits/02d2",
    "xcom3/maps/02police/mapunits/02d3",
    "xcom3/maps/02police/mapunits/02d4",
    "xcom3/maps/02police/mapunits/02f1",
    "xcom3/maps/02police/mapunits/02f2",
    "xcom3/maps/02police/mapunits/02f3",
    "xcom3/maps/02police/mapunits/02f4",
    "xcom3/maps/02police/mapunits/02f5",
    "xcom3/maps/02police/mapunits/02g1",
    "xcom3/maps/02police/mapunits/02g2",
    "xcom3/maps/02police/mapunits/02l1",
    "xcom3/maps/02police/mapunits/02l2",
    "xcom3/maps/02police/mapunits/02r1",
    "xcom3/maps/02police/mapunits/02r2",
    "xcom3/tacdata/alienm1",
    "xcom3/tacdata/alienm10",
    "xcom3/tacdata/alienm2",
    "xcom3/tacdata/alienm3",
    "xcom3/tacdata/alienm4",
    "xcom3/tacdata/alienm5",
    "xcom3/tacdata/alienm6",
    "xcom3/tacdata/alienm7",
    "xcom3/tacdata/alienm8",
    "xcom3/tacdata/alienm9",
    "xcom3/tacdata/brief",
    "xcom3/tacdata/brief2",
    "xcom3/tacdata/brief3",
    "xcom3/tacdata/brief4",
    "xcom3/tacdata/brief5",
    "xcom3/tacdata/debrief",
    "xcom3/tacdata/equippic/agregate",
    "xcom3/tacdata/equippic/anthropd",
    "xcom3/tacdata/equippic/chrysali",
    "xcom3/tacdata/equippic/generic",
    "xcom3/tacdata/equippic/hyperwm",
    "xcom3/tacdata/equippic/megatron",
    "xcom3/tacdata/equippic/mworm",
    "xcom3/tacdata/equippic/mwormegg",
    "xcom3/tacdata/equippic/popper",
    "xcom3/tacdata/equippic/psi_m",
    "xcom3/tacdata/equippic/queen",
    "xcom3/tacdata/equippic/scien",
    "xcom3/tacdata/equippic/skelly",
    "xcom3/tacdata/equippic/spitter",
    "xcom3/tacdata/equippic/sucker",
    "xcom3/tacdata/equippic/xcom",
    "xcom3/tacdata/hidden1",
    "xcom3/tacdata/hidden2",
    "xcom3/tacdata/hidden3",
    "xcom3/tacdata/hidden4",
    "xcom3/tacdata/menuopt",
    "xcom3/tacdata/messaget",
    "xcom3/tacdata/savegame",
    "xcom3/tacdata/squadpik",
    "xcom3/tacdata/xcom",
    "xcom3/ufodata/agenteqp",
    "xcom3/ufodata/alert",
    "xcom3/ufodata/aliencon",
    "xcom3/ufodata/b-scen",
    "xcom3/ufodata/b-scen2",
    "xcom3/ufodata/b-setup",
    "xcom3/ufodata/base",
    "xcom3/ufodata/baseatt",
    "xcom3/ufodata/buildscr",
    "xcom3/ufodata/buy&sell",
    "xcom3/ufodata/buybase1",
    "xcom3/ufodata/buybase2",
    "xcom3/ufodata/car",
    "xcom3/ufodata/diffic",
    "xcom3/ufodata/dip_rift",
    "xcom3/ufodata/entdim",
    "xcom3/ufodata/enttact",
    "xcom3/ufodata/fundadj",
    "xcom3/ufodata/graph",
    "xcom3/ufodata/infilt",
    "xcom3/ufodata/location",
    "xcom3/ufodata/locatn2",
    "xcom3/ufodata/lofback",
    "xcom3/ufodata/lose",
    "xcom3/ufodata/menuopt",
    "xcom3/ufodata/message",
    "xcom3/ufodata/plainbak",
    "xcom3/ufodata/recruit",
    "xcom3/ufodata/researc2",
    "xcom3/ufodata/research",
    "xcom3/ufodata/retdim",
    "xcom3/ufodata/savegame",
    "xcom3/ufodata/titles",
    "xcom3/ufodata/transfer",
    "xcom3/ufodata/vannihil",
    "xcom3/ufodata/vbikefly",
    "xcom3/ufodata/vbikgrnd",
    "xcom3/ufodata/vbiotran",
    "xcom3/ufodata/vdimprob",
    "xcom3/ufodata/vexplore",
    "xcom3/ufodata/vhawk",
    "xcom3/ufodata/vpheonix",
    "xcom3/ufodata/vroadwar",
    "xcom3/ufodata/vrtliatr",
    "xcom3/ufodata/vstalapc",
    "xcom3/ufodata/vstrfire",
    "xcom3/ufodata/vtank",
    "xcom3/ufodata/win",
    "xcom3/ufopaedi/00incuba",
    "xcom3/ufopaedi/01accom1",
    "xcom3/ufopaedi/01airbal",
    "xcom3/ufopaedi/01anthpd",
    "xcom3/ufopaedi/01autops",
    "xcom3/ufopaedi/01civil",
    "xcom3/ufopaedi/01spwnch",
    "xcom3/ufopaedi/02accom2",
    "xcom3/ufopaedi/02alien",
    "xcom3/ufopaedi/02autops",
    "xcom3/ufopaedi/02brsuck",
    "xcom3/ufopaedi/02constr",
    "xcom3/ufopaedi/02fdchmb",
    "xcom3/ufopaedi/02ufo-f",
    "xcom3/ufopaedi/03astro",
    "xcom3/ufopaedi/03autops",
    "xcom3/ufopaedi/03chrysl",
    "xcom3/ufopaedi/03church",
    "xcom3/ufopaedi/03mgchmb",
    "xcom3/ufopaedi/03polic2",
    "xcom3/ufopaedi/03ufo-f",
    "xcom3/ufopaedi/04atmos",
    "xcom3/ufopaedi/04autops",
    "xcom3/ufopaedi/04cyberw",
    "xcom3/ufopaedi/04hpworm",
    "xcom3/ufopaedi/04police",
    "xcom3/ufopaedi/04slchmb",
    "xcom3/ufopaedi/05autops",
    "xcom3/ufopaedi/05carprk",
    "xcom3/ufopaedi/05diablo",
    "xcom3/ufopaedi/05orgfct",
    "xcom3/ufopaedi/05rescue",
    "xcom3/ufopaedi/05ufo-f",
    "xcom3/ufopaedi/05wrmegg",
    "xcom3/ufopaedi/06alnfrm",
    "xcom3/ufopaedi/06autops",
    "xcom3/ufopaedi/06energe",
    "xcom3/ufopaedi/06fact1",
    "xcom3/ufopaedi/06mgtron",
    "xcom3/ufopaedi/06space",
    "xcom3/ufopaedi/06ufo-f",
    "xcom3/ufopaedi/07autops",
    "xcom3/ufopaedi/07cnttwr",
    "xcom3/ufopaedi/07evonet",
    "xcom3/ufopaedi/07fact2",
    "xcom3/ufopaedi/07mltwrm",
    "xcom3/ufopaedi/07taxi2",
    "xcom3/ufopaedi/07ufo-f",
    "xcom3/ufopaedi/08autops",
    "xcom3/ufopaedi/08extro1",
    "xcom3/ufopaedi/08fact3",
    "xcom3/ufopaedi/08mntfct",
    "xcom3/ufopaedi/08taxi1",
    "xcom3/ufopaedi/08ufo-f",
    "xcom3/ufopaedi/08vrspwn",
    "xcom3/ufopaedi/09autops",
    "xcom3/ufopaedi/09dimgte",
    "xcom3/ufopaedi/09fact4",
    "xcom3/ufopaedi/09genmet",
    "xcom3/ufopaedi/09popper",
    "xcom3/ufopaedi/09trans2",
    "xcom3/ufopaedi/09ufo-f",
    "xcom3/ufopaedi/10autops",
    "xcom3/ufopaedi/10fact5",
    "xcom3/ufopaedi/10govrnm",
    "xcom3/ufopaedi/10psmrph",
    "xcom3/ufopaedi/10trans1",
    "xcom3/ufopaedi/10ufo-f",
    "xcom3/ufopaedi/11anniha",
    "xcom3/ufopaedi/11autops",
    "xcom3/ufopaedi/11dimens",
    "xcom3/ufopaedi/11fact6",
    "xcom3/ufopaedi/11lifetr",
    "xcom3/ufopaedi/11qnspwn",
    "xcom3/ufopaedi/11ufo-f",
    "xcom3/ufopaedi/12autops",
    "xcom3/ufopaedi/12bike2",
    "xcom3/ufopaedi/12fact7",
    "xcom3/ufopaedi/12marsec",
    "xcom3/ufopaedi/12skeltd",
    "xcom3/ufopaedi/12to-win",
    "xcom3/ufopaedi/12ufo-f",
    "xcom3/ufopaedi/13autops",
    "xcom3/ufopaedi/13bike",
    "xcom3/ufopaedi/13farm",
    "xcom3/ufopaedi/13gate",
    "xcom3/ufopaedi/13megapo",
    "xcom3/ufopaedi/13sptter",
    "xcom3/ufopaedi/13ufo-g",
    "xcom3/ufopaedi/13ufo-h",
    "xcom3/ufopaedi/14atran",
    "xcom3/ufopaedi/14autops",
    "xcom3/ufopaedi/14hospit",
    "xcom3/ufopaedi/14mentat",
    "xcom3/ufopaedi/14micron",
    "xcom3/ufopaedi/15mute_a",
    "xcom3/ufopaedi/15office",
    "xcom3/ufopaedi/15probe",
    "xcom3/ufopaedi/16explor",
    "xcom3/ufopaedi/16nanote",
    "xcom3/ufopaedi/16people",
    "xcom3/ufopaedi/17hawk",
    "xcom3/ufopaedi/17nutriv",
    "xcom3/ufopaedi/17police",
    "xcom3/ufopaedi/17vbay-f",
    "xcom3/ufopaedi/18bar-f",
    "xcom3/ufopaedi/18pheonx",
    "xcom3/ufopaedi/18power",
    "xcom3/ufopaedi/18psyke",
    "xcom3/ufopaedi/19lift-f",
    "xcom3/ufopaedi/19procpk",
    "xcom3/ufopaedi/19retali",
    "xcom3/ufopaedi/19s_clin",
    "xcom3/ufopaedi/20rescue",
    "xcom3/ufopaedi/20roadwr",
    "xcom3/ufopaedi/20self",
    "xcom3/ufopaedi/20stor-f",
    "xcom3/ufopaedi/21cell-f",
    "xcom3/ufopaedi/21resyk",
    "xcom3/ufopaedi/21senso",
    "xcom3/ufopaedi/21stalag",
    "xcom3/ufopaedi/22acon-f",
    "xcom3/ufopaedi/22school",
    "xcom3/ufopaedi/22solmin",
    "xcom3/ufopaedi/22starfr",
    "xcom3/ufopaedi/23aacn-f",
    "xcom3/ufopaedi/23senate",
    "xcom3/ufopaedi/23superd",
    "xcom3/ufopaedi/23tank1",
    "xcom3/ufopaedi/23tank2",
    "xcom3/ufopaedi/23tank3",
    "xcom3/ufopaedi/23tank4",
    "xcom3/ufopaedi/24medb-f",
    "xcom3/ufopaedi/24sensod",
    "xcom3/ufopaedi/24synthm",
    "xcom3/ufopaedi/25sensos",
    "xcom3/ufopaedi/25techno",
    "xcom3/ufopaedi/25trai-f",
    "xcom3/ufopaedi/26psi-f",
    "xcom3/ufopaedi/26sewage",
    "xcom3/ufopaedi/26transt",
    "xcom3/ufopaedi/27ads-f",
    "xcom3/ufopaedi/27shops",
    "xcom3/ufopaedi/27xcom",
    "xcom3/ufopaedi/28secu-f",
    "xcom3/ufopaedi/28space",
    "xcom3/ufopaedi/29qlab-f",
    "xcom3/ufopaedi/29wall",
    "xcom3/ufopaedi/30adq-f",
    "xcom3/ufopaedi/30warehs",
    "xcom3/ufopaedi/31abio-f",
    "xcom3/ufopaedi/31water",
    "xcom3/ufopaedi/32biol-f",
    "xcom3/ufopaedi/32corphq",
    "xcom3/ufopaedi/33acon-f",
    "xcom3/ufopaedi/33sirius",
    "xcom3/ufopaedi/34cons-f",
    "xcom3/ufopaedi/34slums",
    "xcom3/ufopaedi/a-title",
    "xcom3/ufopaedi/ab-ttl",
    "xcom3/ufopaedi/armour1",
    "xcom3/ufopaedi/armour2",
    "xcom3/ufopaedi/armour3",
    "xcom3/ufopaedi/b-title",
    "xcom3/ufopaedi/eler",
    "xcom3/ufopaedi/f-title",
    "xcom3/ufopaedi/f01",
    "xcom3/ufopaedi/f02",
    "xcom3/ufopaedi/f03",
    "xcom3/ufopaedi/f04",
    "xcom3/ufopaedi/f05",
    "xcom3/ufopaedi/f06",
    "xcom3/ufopaedi/genetics",
    "xcom3/ufopaedi/h01",
    "xcom3/ufopaedi/h02",
    "xcom3/ufopaedi/h03",
    "xcom3/ufopaedi/h04",
    "xcom3/ufopaedi/h05",
    "xcom3/ufopaedi/l-title",
    "xcom3/ufopaedi/lifecycl",
    "xcom3/ufopaedi/power",
    "xcom3/ufopaedi/propuls",
    "xcom3/ufopaedi/pscln",
    "xcom3/ufopaedi/s-title",
    "xcom3/ufopaedi/threat",
    "xcom3/ufopaedi/title",
    "xcom3/ufopaedi/u-title",
    "xcom3/ufopaedi/v-title",
    "xcom3/ufopaedi/v01",
    "xcom3/ufopaedi/v02",
    "xcom3/ufopaedi/v03",
    "xcom3/ufopaedi/v04",
    "xcom3/ufopaedi/v05",
    "xcom3/ufopaedi/v06",
    "xcom3/ufopaedi/v07",
    "xcom3/ufopaedi/v08",
    "xcom3/ufopaedi/v09",
    "xcom3/ufopaedi/v10",
    "xcom3/ufopaedi/v11",
    "xcom3/ufopaedi/v12",
    "xcom3/ufopaedi/v13",
    "xcom3/ufopaedi/v14",
    "xcom3/ufopaedi/v15",
    "xcom3/ufopaedi/v16",
    "xcom3/ufopaedi/v17",
    "xcom3/ufopaedi/v18",
    "xcom3/ufopaedi/v19",
    "xcom3/ufopaedi/v20",
    "xcom3/ufopaedi/v21",
    "xcom3/ufopaedi/v22",
    "xcom3/ufopaedi/v23",
    "xcom3/ufopaedi/v24",
    "xcom3/ufopaedi/v25",
    "xcom3/ufopaedi/v26",
    "xcom3/ufopaedi/v27",
    "xcom3/ufopaedi/v28",
    "xcom3/ufopaedi/v29",
    "xcom3/ufopaedi/v30",
    "xcom3/ufopaedi/v31",
    "xcom3/ufopaedi/v32",
    "xcom3/ufopaedi/v33",
    "xcom3/ufopaedi/v34",
    "xcom3/ufopaedi/vipttl",
    "xcom3/ufopaedi/vw-ttl",
    "xcom3/ufopaedi/w-title",
    "xcom3/ufopaedi/w01",
    "xcom3/ufopaedi/w02",
    "xcom3/ufopaedi/w03",
    "xcom3/ufopaedi/w04",
    "xcom3/ufopaedi/w05",
    "xcom3/ufopaedi/w06",
    "xcom3/ufopaedi/w07",
    "xcom3/ufopaedi/w08",
    "xcom3/ufopaedi/w09",
    "xcom3/ufopaedi/w10",
    "xcom3/ufopaedi/w11",
    "xcom3/ufopaedi/w12",
    "xcom3/ufopaedi/w13",
    "xcom3/ufopaedi/w14",
    "xcom3/ufopaedi/w15",
    "xcom3/ufopaedi/w16",
    "xcom3/ufopaedi/w17",
    "xcom3/ufopaedi/w18",
    "xcom3/ufopaedi/w19",
    "xcom3/ufopaedi/w20",
    "xcom3/ufopaedi/w21",
    "xcom3/ufopaedi/w22",
    "xcom3/ufopaedi/w23",
    "xcom3/ufopaedi/w24",
    "xcom3/ufopaedi/w25",
    "xcom3/ufopaedi/w26",
    "xcom3/ufopaedi/w27",
    "xcom3/ufopaedi/w28",
    "xcom3/ufopaedi/w29",
    "xcom3/ufopaedi/w30",
    "xcom3/ufopaedi/w31",
    "xcom3/ufopaedi/w32",
    "xcom3/ufopaedi/w33",
    "xcom3/ufopaedi/w34",
    "xcom3/ufopaedi/w35",
    "xcom3/ufopaedi/w36",
    "xcom3/ufopaedi/w37",
    "xcom3/ufopaedi/w38",
    "xcom3/ufopaedi/w39",
    "xcom3/ufopaedi/w40",
    "xcom3/ufopaedi/w41",
    "xcom3/ufopaedi/w42",
    "xcom3/ufopaedi/w43",
    "xcom3/ufopaedi/w44",
    "xcom3/ufopaedi/w45",
    "xcom3/ufopaedi/w46",
    "xcom3/ufopaedi/w47",
    "xcom3/ufopaedi/w48",
    "xcom3/ufopaedi/w49",
    "xcom3/ufopaedi/w50",
    "xcom3/ufopaedi/w51",
    "xcom3/ufopaedi/w52",
    "xcom3/ufopaedi/w53",
    "xcom3/ufopaedi/w54",
    "xcom3/ufopaedi/w55",
    "xcom3/ufopaedi/w56",
    "xcom3/ufopaedi/w57",
    "xcom3/ufopaedi/w58",
    "xcom3/ufopaedi/w59",
};

class RawImage
{
  public:
	UString prefix;
	Vec2<unsigned> size;
	UString palette;
	UString suffix;

	RawImage(UString pre, Vec2<unsigned> s, UString pal, UString suf = ".dat")
	    : prefix(pre), size(s), palette(pal), suffix(suf){};
};

std::list<RawImage> rawFiles = {
    {"xcom3/ufodata/isobord8", {640, 128}, "xcom3/ufodata/pal_01.dat"},
    {"xcom3/tacdata/tacbord", {640, 128}, "xcom3/tacdata/tactical.pal"},
    {"xcom3/tacdata/tacbord2", {640, 128}, "xcom3/tacdata/tactical.pal"},
    {"xcom3/tacdata/tacbord3", {640, 128}, "xcom3/tacdata/tactical.pal"},
    {"xcom3/tacdata/tacbord4", {640, 128}, "xcom3/tacdata/tactical.pal"},
    {"xcom3/tacdata/tacbord5", {640, 128}, "xcom3/tacdata/tactical.pal"},
    {"xcom3/tacdata/tacbord6", {640, 128}, "xcom3/tacdata/tactical.pal"},
    {"xcom3/tacdata/tacbord7", {640, 128}, "xcom3/tacdata/tactical.pal"},
    {"xcom3/tacdata/tacbord8", {640, 128}, "xcom3/tacdata/tactical.pal"},
    {"xcom3/tacdata/tacbord9", {640, 128}, "xcom3/tacdata/tactical.pal"},
    {"xcom3/ufodata/isobord1", {640, 128}, "xcom3/ufodata/pal_01.dat"},
    {"xcom3/ufodata/isobord2", {640, 128}, "xcom3/ufodata/pal_01.dat"},
    {"xcom3/ufodata/isobord3", {640, 128}, "xcom3/ufodata/pal_01.dat"},
    {"xcom3/ufodata/isobord4", {640, 128}, "xcom3/ufodata/pal_01.dat"},
    {"xcom3/ufodata/isobord5", {640, 128}, "xcom3/ufodata/pal_01.dat"},
    {"xcom3/ufodata/isobord6", {640, 128}, "xcom3/ufodata/pal_01.dat"},
    {"xcom3/ufodata/isobord7", {640, 128}, "xcom3/ufodata/pal_01.dat"},
    {"xcom3/ufodata/isoborda", {640, 128}, "xcom3/ufodata/pal_01.dat"},
};

std::list<UString> loftempFiles = {
    "xcom3/ufodata/loftemps",
    "xcom3/tacdata/loftemps",
};

namespace fs = fs;

static void dumpLofTemps(fs::path basePath, const UString &prefix)
{
	auto tabFileName = prefix + ".tab";
	auto datFileName = prefix + ".dat";

	LogWarning("Reading LOFTEMPS \"%s\"", prefix);
	size_t tabSize = 0;
	{
		auto tabFile = fw().data->fs.open(tabFileName);
		if (!tabFile)
		{
			LogError("Failed to open LOFTEMPS tab \"%s\"", tabFileName);
			return;
		}
		tabSize = tabFile.size();
	}
	auto count = tabSize / 4;

	auto outPath = basePath / prefix.str();
	fs::create_directories(outPath);

	for (size_t i = 0; i < count; i++)
	{
		auto imgPath = format("LOFTEMPS:%s:%s:%u", datFileName, tabFileName, (unsigned)i);
		auto img = fw().data->loadImage(imgPath);
		if (!img)
		{
			LogError("Failed to load \"%s\"", imgPath);
			return;
		}
		auto outName = format("%u.png", (unsigned)i);
		auto filePath = outPath / outName.str();
		fw().data->writeImage(filePath.native(), img);
	}
}

static void dumpRaw(fs::path outDir, const RawImage &i)
{
	auto inName = i.prefix + i.suffix;
	auto fileName = i.prefix + ".png";
	auto outPath = outDir / fileName.str();
	auto imageString = format("RAW:%s:%u:%u:%s", inName, i.size.x, i.size.y, i.palette);
	LogWarning("Reading \"%s\"", imageString);

	auto img = fw().data->loadImage(imageString);
	if (!img)
	{
		LogError("Failed to read \"%s\"", imageString);
		return;
	}

	fs::create_directories(outPath.parent_path());
	fw().data->writeImage(outPath.native(), img);
}

static void dumpPck(fs::path outDir, const UString &prefix, const UString &paletteString,
                    const UString &type)
{
	auto basePath = outDir / prefix.str();
	fs::create_directories(basePath);
	auto imageString = type + ":" + prefix + ".pck:" + prefix + ".tab";
	LogWarning("Reading \"%s\"", imageString);
	auto imgSet = fw().data->loadImageSet(imageString);
	if (!imgSet)
	{
		LogError("Failed to load image set \"%s\"", prefix);
		return;
	}
	auto palette = fw().data->loadPalette(paletteString);
	if (!palette)
	{
		LogError("Failed to load palette \"%s\"", paletteString);
		return;
	}

	int count = 0;
	for (auto &img : imgSet->images)
	{
		auto fullPath = basePath;
		auto imgName = format("%d.png", count);
		fullPath /= imgName.str();
		if (img)
			fw().data->writeImage(fullPath.native(), img, palette);
		count++;
	}
}

static void dumpPcx(fs::path outDir, const UString &prefix)
{
	auto outName = prefix + ".png";
	auto pcxName = prefix + ".pcx";
	auto path = outDir / outName.str();
	fs::create_directories(path.parent_path());
	LogWarning("Reading \"%s\"", pcxName);
	auto img = fw().data->loadImage(pcxName);
	if (!img)
	{
		LogError("Failed to load pcx \"%s\"", pcxName);
		return;
	}
	fw().data->writeImage(path.native(), img);
}

int main(int argc, const char **argv)
{
	if (OpenApoc::config().parseOptions(argc, argv))
	{
		return EXIT_FAILURE;
	}
	Framework fw("OpenApoc", false);

	fs::path dump_path = "dumped_data";
	fs::remove_all(dump_path);

	for (auto &pck : pckFiles)
		dumpPck(dump_path, pck.prefix, pck.palette, pck.type);
	for (auto &pcx : pcxFiles)
		dumpPcx(dump_path, pcx);
	for (auto &raw : rawFiles)
		dumpRaw(dump_path, raw);
	for (auto &lof : loftempFiles)
		dumpLofTemps(dump_path, lof);

	return EXIT_SUCCESS;
}
